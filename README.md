# Лабораторная работа №7. Вариант 5

**Тема:** Стандартная библиотека C++. Последовательные и ассоциативные контейнеры. Обобщенные алгоритмы.

## Описание задания

Реализовать шаблонный класс для работы с массивом (вектором) чисел с использованием обобщенных алгоритмов STL.

### Параметры варианта 5:
- Диапазон значений: **m1 = -10, m2 = 10**
- Заполнение вектора случайными числами

### Операции (обязательно с использованием STL-алгоритмов):

1. **Умножить все элементы массива на 2**
   - Используется: `std::transform` с лямбда-функцией
   
2. **Заменить все элементы, где |x| > 10, на 0**
   - Используется: `std::transform` с предикатом
   
3. **Удалить из массива все нулевые элементы**
   - Используется: `std::remove_if` + `erase`

## Структура проекта

```
oop_lab_7/
├── src/
│   ├── ArrayProcessor.hpp   # Шаблонный класс для обработки массивов
│   └── main.cpp             # Главная программа с демонстрацией
├── docs/                    # Документация (Typst)
├── images/
│   └── output.txt          # Сохраненный вывод программы
├── Makefile                # Сборка проекта
└── README.md               # Данный файл
```

## Технические требования

- **Стандарт:** C++23
- **Компилятор:** g++ с флагами `-std=c++23 -Wall -Wextra -g`
- **Обязательное использование STL-алгоритмов:**
  - `std::generate` - для заполнения массива
  - `std::transform` - для преобразования элементов
  - `std::remove_if` - для удаления элементов по условию
- **Демонстрация с тремя типами данных:**
  - `int` (целые числа)
  - `double` (вещественные числа двойной точности)
  - `float` (вещественные числа)

## Реализация

### Класс ArrayProcessor

```cpp
template <typename T>
class ArrayProcessor {
private:
    std::vector<T> data;  // Контейнер для хранения данных
    T m1, m2;             // Границы диапазона

public:
    ArrayProcessor(T min_val, T max_val, size_t size);
    void multiplyByTwo();           // Операция 1
    void replaceAbsGreaterThan10(); // Операция 2
    void removeZeros();             // Операция 3
    void print(const std::string& message = "") const;
    void processAll();
};
```

### Используемые STL-алгоритмы

1. **std::generate** - генерация случайных чисел
2. **std::transform** - применение функции к каждому элементу
3. **std::remove_if** - условное удаление элементов
4. **std::erase** - физическое удаление из вектора

### Лямбда-функции и предикаты

- Умножение на 2: `[](T x) { return x * 2; }`
- Замена по условию: `[](T x) { return (std::abs(x) > 10) ? T(0) : x; }`
- Предикат для удаления нулей: `[](T x) { return x == 0; }`

## Сборка и запуск

### Команды Makefile

```bash
# Сборка проекта
make

# Сборка и запуск
make run

# Только документация
make docs

# Очистка
make clean
```

### Ручная сборка

```bash
g++ -std=c++23 -Wall -Wextra -g src/main.cpp -o build/main
./build/main
```

## Пример работы программы

### Тип данных: int
```
Исходный массив:
Массив [размер: 15]: -2 -7 1 1 0 5 -3 -4 9 -2 4 -3 3 8 -9

После операции 1 (умножение на 2):
Массив [размер: 15]: -4 -14 2 2 0 10 -6 -8 18 -4 8 -6 6 16 -18

После операции 2 (замена |x| > 10 на 0):
Массив [размер: 15]: -4 0 2 2 0 10 -6 -8 0 -4 8 -6 6 0 0

После операции 3 (удаление нулей):
Массив [размер: 10]: -4 2 2 10 -6 -8 -4 8 -6 6
```

## Особенности реализации

1. **Универсальность шаблона:**
   - Работает как с целочисленными, так и с вещественными типами
   - Автоматический выбор генератора случайных чисел через `if constexpr`

2. **Обработка вещественных чисел:**
   - Для удаления нулей используется сравнение с `epsilon` для типов `float`/`double`

3. **Форматированный вывод:**
   - Использование `std::setw`, `std::fixed`, `std::setprecision`
   - Красивое оформление с Unicode box-drawing символами

4. **Разделение на файлы:**
   - Объявления и реализация шаблонного класса в `.hpp` файле
   - Главная программа в отдельном `.cpp` файле

## Контрольные примеры

Программа демонстрирует работу с тремя типами данных:
- **int:** 15 элементов
- **double:** 12 элементов
- **float:** 10 элементов

Каждый пример показывает состояние массива после каждой операции, покрывая все пути выполнения программы.

## Автор

Лабораторная работа выполнена в рамках курса ООП.
Вариант: 5

## Дата

Ноябрь 2025
